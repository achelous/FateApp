module ConnectionsHelper

# For SHOW view. Selects appropriate partial for level of access.
  def show_manager(key_flag, connection)
    if key_flag
      render :partial => 'show_authd', :locals => {:connection => connection}
    else
      render :partial => 'show', :locals => {:connection => connection}
    end
  end

# Form field html generators.
  def identity_field(name)
    options = Connection::IdentityOptions.sort
    html = "    <p class='form-label'>I am:<select id='kind-field' name='#{name}[iam]'>"
    html << "<option value=''>Gender</option>"
    options.each {|key, text|
      html << "<option value='#{key}'>#{text}</option>"
    }
    html << '</select></p>'
    html << "    <p class='form-label'>You are:<select id='kind-field' name='#{name}[youare]'>"
    html << "<option value=''>Gender</option>"
    options.each {|key, text|
      html << "<option value='#{key}'>#{text}</option>"
    }
    html << '</select></p>'
  end

  def upfor_field(name)
    options = Connection::UpforOptions.sort
    html = "    <select id='upfor-field' name='#{name}[upfor]'>"
    options.each {|key, text|
      html << "<option value='#{key}'>#{text}</option>"
    }
    html << '</select>'
  end

end
